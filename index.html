<!DOCTYPE html>
<html lang="en" ng-app="connectedEarthApp">
<head>
    <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Connected Earth - NASA Space Apps Challenge</title>
    
    <!-- External Libraries -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/angular.js/1.8.3/angular.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/angular.js/1.8.3/angular-animate.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/7.8.5/d3.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    
    <!-- Application Files -->
    <link rel="stylesheet" href="styles.css">
    <script src="data.js"></script>
    <script src="app.js"></script>
    <script src="nasa-api.js"></script>
</head>
<body ng-controller="MainController">
    <!-- Loading Screen -->
    <div class="loading-screen" ng-class="{'fade-out': !loading}">
        <div class="earth-loader"></div>
    </div>

    <!-- Header -->
    <header class="header">
        <div class="header-content">
            <div class="logo">
                <div class="logo-icon">üåç</div>
                <h1>Connected Earth</h1>
            </div>
            <nav class="nav-menu">
                <div class="nav-item" ng-click="scrollTo('systems')">Systems</div>
                <div class="nav-item" ng-click="scrollTo('impact')">Impact</div>
                <div class="nav-item" ng-click="scrollTo('data')">Data</div>
                <div class="nav-item" ng-click="scrollTo('story')">Story</div>
            </nav>
        </div>
    </header>

    <!-- Main Container -->
    <div class="main-container">
        <!-- Hero Section -->
        <section class="hero-section">
            <h1 class="hero-title">Our Connected Earth</h1>
            <p class="hero-subtitle">Explore how Earth's systems interact and influence each other in the face of climate change</p>
        </section>

        <!-- Earth Systems Visualization -->
        <section id="systems" class="earth-systems">
            <div ng-repeat="system in earthSystems" 
                 class="system-node" 
                 ng-class="{'active': selectedSystem === system}"
                 ng-style="{'left': system.x + 'px', 'top': system.y + 'px'}"
                 ng-click="selectSystem(system)"
                 ng-attr-style="animation-delay: {{$index * 0.2}}s">
                <div class="system-icon">{{system.icon}}</div>
                <div class="system-label">{{system.name}}</div>
            </div>
            
            <div ng-repeat="connection in activeConnections"
                 class="connection-line"
                 ng-style="getConnectionStyle(connection)">
            </div>
        </section>

      
        <section id="impact" class="impact-panel" ng-show="selectedSystem">
            <h2 class="impact-title">{{selectedSystem.name}} - System Impacts</h2>
            <p>{{selectedSystem.description}}</p>
            
            <div class="impact-grid">
                <div class="impact-card" ng-repeat="impact in selectedSystem.impacts">
                    <div class="impact-value">{{impact.value}}</div>
                    <div class="impact-label">{{impact.label}}</div>
                </div>
            </div>
        </section>

     
        <section id="data" class="data-viz-container">
            <h2 class="impact-title">Real-Time Earth Data Visualization</h2>
            <div id="dataChart"></div>
        </section>

        
        <section class="scenario-simulator">
            <h2 class="impact-title">Climate Scenario Simulator</h2>
            <p style="color: #a8b2d1; margin-bottom: 30px;">Adjust the parameters to see how changes affect Earth's interconnected systems</p>
            
            <div class="simulator-controls">
                <div class="slider-container">
                    <div class="slider-label">
                        <span>Temperature Change</span>
                        <span>{{temperature}}¬∞C</span>
                    </div>
                    <input type="range" class="slider" min="0" max="5" step="0.1" ng-model="temperature" ng-change="updateSimulation()">
                </div>
                
                <div class="slider-container">
                    <div class="slider-label">
                        <span>CO‚ÇÇ Levels</span>
                        <span>{{co2}} ppm</span>
                    </div>
                    <input type="range" class="slider" min="350" max="500" step="5" ng-model="co2" ng-change="updateSimulation()">
                </div>
                
                <div class="slider-container">
                    <div class="slider-label">
                        <span>Deforestation Rate</span>
                        <span>{{deforestation}}%</span>
                    </div>
                    <input type="range" class="slider" min="0" max="50" step="1" ng-model="deforestation" ng-change="updateSimulation()">
                </div>
            </div>
            
            <div class="impact-grid">
                <div class="impact-card" ng-repeat="result in simulationResults">
                    <div class="impact-value" style="font-size: 1.5em;">{{result.value}}</div>
                    <div class="impact-label">{{result.label}}</div>
                </div>
            </div>
        </section>

       
        <section id="story" class="story-section">
            <h2 class="impact-title">The Story of Our Connected Earth</h2>
            <div class="story-content">
                <h3 style="color: #4a90e2; margin-bottom: 20px;">{{currentStory.title}}</h3>
                <p class="story-text">{{currentStory.content}}</p>
                
                <div class="story-navigation">
                    <button class="story-btn" ng-click="previousStory()" ng-disabled="storyIndex === 0">Previous</button>
                    <button class="story-btn" ng-click="nextStory()" ng-disabled="storyIndex === stories.length - 1">Next</button>
                </div>
            </div>
        </section>
    </div>
</body>
</html>